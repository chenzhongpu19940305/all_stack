# 文档编辑器 (DocumentEditorEdit)

## 页面概述
文档编辑器页面是文档管理模块的子页面，提供功能完整的富文本编辑功能，支持文档的创建、编辑和保存。用户通过文档管理页面进入此编辑器，编辑完成后返回文档列表。

## 主要功能
- **富文本编辑**: 支持文本格式化操作
- **文档标题管理**: 动态编辑文档标题
- **文本格式化**: 粗体、斜体、下划线等格式
- **字体大小调整**: 支持多种字体大小选择
- **图片插入**: 支持图片上传和插入
- **文档保存**: 自动保存和手动保存功能
- **新建文档**: 创建新的空白文档

## 在文档管理模块中的定位
- **模块角色**: 文档管理模块的子页面
- **访问方式**: 通过文档管理页面进入，不直接显示在主页
- **功能层级**: 文档管理 → 文档编辑器
- **返回路径**: 编辑完成后返回文档管理页面

## 技术特性
- 使用Vue 3 Composition API (`setup`函数)
- 响应式数据管理 (`ref`)
- 内容可编辑区域 (`contenteditable`)
- 文件上传处理
- 剪贴板事件处理
- 键盘事件处理

## 页面结构
```
DocumentEditorEdit.vue
├── 编辑器头部 (Editor Header)
│   ├── 左侧区域
│   │   ├── 返回按钮
│   │   └── 文档标题输入框
│   └── 右侧区域
│       ├── 保存按钮
│       └── 新建按钮
├── 编辑器主体 (Editor Main)
│   ├── 工具栏 (Editor Toolbar)
│   │   ├── 文本格式按钮组
│   │   ├── 字体大小选择器
│   │   └── 图片插入按钮
│   └── 编辑内容区域 (Editor Content)
│       └── 可编辑区域 (Editor Area)
└── 隐藏文件输入框
```

## 核心功能实现
- **富文本编辑**: 使用`contenteditable`属性实现
- **文本格式化**: 集成`document.execCommand`命令
- **图片处理**: 支持文件选择和图片插入
- **剪贴板集成**: 处理粘贴和拖拽事件
- **自动保存**: 实时保存文档内容
- **状态管理**: 管理编辑器和文档状态

## 编辑功能
- **文本格式**: 粗体(B)、斜体(I)、下划线(U)
- **字体大小**: 12px到24px多种选择
- **图片插入**: 支持本地图片文件上传
- **内容编辑**: 实时内容编辑和预览
- **键盘快捷键**: 支持常用编辑快捷键

## 使用说明
1. **进入编辑器**: 从文档管理页面点击"新建文档"或"编辑"按钮
2. **编辑文档**: 在可编辑区域直接输入和编辑内容
3. **格式化文本**: 使用工具栏按钮进行文本格式化
4. **插入图片**: 点击图片按钮选择并插入图片
5. **保存文档**: 点击保存按钮或自动保存
6. **返回列表**: 点击返回按钮回到文档管理页面

## 样式特点
- 清晰的工具栏布局
- 响应式设计
- 现代化的按钮样式
- 可编辑区域的视觉反馈

## API接口
- 依赖 `../api/documentEditor.js` 模块
- 使用 `getDocument` 获取文档内容
- 使用 `createDocument` 创建新文档
- 使用 `updateDocument` 更新文档内容

## 依赖关系
- 需要后端API服务支持
- 依赖Vue Router进行页面导航
- 使用Vue 3 Composition API
- 需要文件上传功能支持
- 依赖浏览器原生编辑功能

## 模块集成
- **与文档管理的关系**: 作为文档管理的编辑子页面
- **导航流程**: 文档管理 → 文档编辑器 → 返回文档管理
- **数据流**: 从文档管理获取文档数据，编辑后更新到文档管理

## 用户工作流
```
1. 在文档管理页面选择文档或新建文档
2. 进入文档编辑器页面
3. 进行文档编辑和格式化
4. 保存文档内容
5. 返回文档管理页面查看更新
```

## 注意事项
- 此页面不直接显示在主页导航中
- 需要通过文档管理页面访问
- 编辑完成后自动返回文档管理页面
- 支持浏览器返回按钮操作
